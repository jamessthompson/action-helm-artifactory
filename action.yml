name: 'Helm Artifactory Publisher'
description: GitHub Action for packaging, testing helm charts and publishing to Artifactory helm repo'
branding:
  icon: 'archive'
  color: 'blue'
inputs:
  action:
    require: true
  artifactory_url:
    require: true
  artifactory_username:
    require: true
  artifactory_password:
    require: true

runs:
  using: "composite"
  steps:
    - uses: actions/setup-python@v2
    - run: ${{ github.action_path }}/main.sh
      shell: bash
      env:
        ACTION: ${{ inputs.action }}
        ARTIFACTORY_URL: ${{ inputs.artifactory_url}}
        ARTIFACTORY_USERNAME: ${{ inputs.artifactory_username}}
        ARTIFACTORY_PASSWORD: ${{ inputs.artifactory_password}}
